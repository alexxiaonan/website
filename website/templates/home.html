{% extends "base.html" %}

{% block content %}

<div class='col-md-6 offset-md-3'>

{% if user.is_authenticated %}   

<div class="btn-toolbar justify-content-between" role="toolbar" aria-label="Toolbar with button groups">
  <div class="btn-group" role="group" aria-label="First group">
    <h3>Customer List</h3>
  </div>
  <div class="input-group">
    <input type="text" class="form-control" placeholder="Search for ..." aria-label="Search for ..." aria-describedby="btnGroupAddon2">
    <button class="btn btn-default" type="button" id="btnGroupAddon2">Search</button>
  </div>
</div>

</br>

<table class="table table-striped table-hover table-bordered">
    <thead>
      <tr>
        <th scope="col">Name</th>
        <th scope="col">Email</th>
        <th scope="col">Phone</th>
        <th scope="col">SendMessage</th>
      </tr>
    </thead>
    <tbody>
        {%if records %}

            {% for record in records %}
            <tr>
    
            
                <td><a href="{% url 'record' record.id%}"> {{ record.first_name}}
                {{ record.last_name}}  </a></td>

                <td>{{ record.email}}</td>
                
                <td>{{ record.phone}}</td>
                <td>Message</td>
             </tr>
            {% endfor %}
        {% endif %}
    </tbody>
</table>

<h1>Group List</h1>

<table class="table table-striped table-hover table-bordered">
  <thead>
      <tr>
        <th scope="col"> Group Name</th>
        <th scope="col">Group Members</th>
      </tr>
    </thead>
  <tbody>
        {%if group_records  %}

            {% for group_record in group_records %}
            <tr>
    
            
              <td><a href="{% url 'group_record' group_record.id%}">{{ group_record.group_name}}
              </a></td>
              
               <td>{% for member in group_record.user.all %}
                {{member}} </br>
                {% endfor %}
              </td>


            {% endfor %}
        {% endif %}
    </tbody>
  </table>

<h1>sender List</h1>

  <table class="table table-striped table-hover table-bordered">
    <thead>
        <tr>
          <th scope="col"> Sender Name</th>
          <th scope="col">Sender number</th>
        </tr>
      </thead>
    <tbody>
          {%if sender_records  %}
  
              {% for sender_record in sender_records %}
              <tr>
      
                <td><a href="{% url 'sender_record' sender_record.id%}">{{ sender_record.phone_number_id}}
                </a></td>
                
                 <td>{% for sender in sender_record.all %}
                  {{sender}} </br>
                  {% endfor %}
                </td>
  
  
              {% endfor %}
          {% endif %}
      </tbody>
    </table>



{% else %}

<h1> login </h1>
<form method='POST' action="{% url 'home' %}">
    {% csrf_token %}

    <form>
        <div class="mb-3">
          <input type="text" class="form-control" name="username" placeholder="Username" required>
        </div>
        <div class="mb-3">
          <input type="password" class="form-control" name="password" placeholder="Password" required>

        </div>
        <!--
        <div class="mb-3 form-check">
          <input type="checkbox" class="form-check-input" id="exampleCheck1">
          <label class="form-check-label" for="exampleCheck1">Check me out</label>
        </div>
        -->

        <button type="submit" class="btn btn-secondary">Submit</button>
      </form>

</form>

</div>

{% endif %}

{% endblock %}

